import{r as d,o as t,a,b as s,w as g,v as x,u as n,i as y,e as b,F as k,f as C,h as p,t as v}from"./entry-08f52f35.mjs";function w(){const r=d(),i=d(!1),e=d(""),u=d(""),c=d("V");return{ciudadano:r,loading:i,error:e,cedula:u,nacionalidad:c,getCiudadano:()=>{i.value=!0;const h=`https://apive.herokuapp.com/api/v1/${c.value}/${u.value}`;fetch(h).then(async o=>{r.value=void 0,e.value="";const l=await o.json();o.ok&&(r.value=l),o.status===400&&(e.value=l.message),o.status===404&&(e.value="Se ha producido un error, no se encuentra el ciudadano"),o.status===422&&(e.value="Por favor verifique que la c\xE9dula sea correcta!")}).finally(()=>{i.value=!1})}}}const B={class:"container"},q={class:"hero"},E=s("div",{class:"hero-header"},[s("h1",{class:"title has-text-centered"}," Buscador de Ciudadanos ")],-1),V={class:"hero-body"},A={class:"container has-text-centered"},D={class:"column is-half is-offset-one-quarter"},K={class:"field has-addons"},S={class:"control"},U=["onKeyup"],F={class:"container"},L={key:0},N=s("div",{class:"container has-text-centered m-6 p-6"},[s("span",{class:"icon"},[s("i",{class:"fa fa-3x fa-spinner fa-pulse"})])],-1),R=[N],$={key:1},j={class:"content"},M={key:0,class:"column notification is-10 is-offset-1"},P={class:"table"},T={class:"is-selected"},z={key:0,class:"notification is-warning is-10 is-offset-1 p-5"},G={class:"container has-text-centered"},H=s("span",{class:"icon"},[s("i",{class:"fa fa-3x fa-exclamation-triangle"})],-1),I={class:"title has-text-centered"},O={__name:"buscador",setup(r){const{getCiudadano:i,ciudadano:e,loading:u,error:c,cedula:_}=w(),h=()=>{i()};return(o,l)=>(t(),a("div",B,[s("section",q,[E,s("div",V,[s("div",A,[s("div",D,[s("div",K,[s("div",S,[g(s("input",{autocomplete:"off",name:"cedula","onUpdate:modelValue":l[0]||(l[0]=f=>y(_)?_.value=f:null),onKeyup:b(h,["enter"]),class:"input is-large",type:"text",maxlength:"8",placeholder:"CEDULA",required:""},null,40,U),[[x,n(_),void 0,{number:!0}]])]),s("div",{class:"control"},[s("a",{class:"button is-info is-large",onClick:h}," BUSCAR ")])])]),s("div",F,[n(u)?(t(),a("div",L,R)):(t(),a("div",$,[s("div",j,[n(e)?(t(),a("div",M,[s("table",P,[(t(!0),a(k,null,C(n(e),(f,m)=>(t(),a("tbody",null,[s("tr",null,[s("td",T,[s("strong",null,v(m),1)]),s("td",null,[s("strong",null,v(f),1)])])]))),256))])])):p("",!0)]),n(c)?(t(),a("div",z,[s("div",G,[H,s("h1",I,v(n(c)),1)])])):p("",!0)]))])])])])]))}};export{O as default};
